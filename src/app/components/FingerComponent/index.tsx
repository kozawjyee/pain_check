import React, { MouseEventHandler, useEffect, useRef, useState } from 'react'
import './styles.css'
import { FingerComponentInterface } from '../../models/componentModels/components.models';
import { AnimatePresence, motion } from 'framer-motion';
import BottmRightLabelComponent from '../LineComponents/Finger/BottomRightLabelComponent';
import StraightRightLabelComponent from '../LineComponents/Finger/StraightLineRightLabelComponent';
import LabelComponent from '../LineComponents/Finger/TopRightLabelComponent';

const FingerComponent = (props: FingerComponentInterface) => {
  const {dipActive, mcpActive, pipActive, showLabel} =  props;
  
  return (
    <div>
        <svg className='relative drop-shadow-lg w-[200px] mbsm:w-[220px] mblg:w-[250px] transition-[width_0.5s_linear]' viewBox="0 0 285 416" fill="none" xmlns="http://www.w3.org/2000/svg">
        <g id="finger">
          <g id="shades">
            <path d="M60.0485 380C57.6485 391.2 56.0485 407.667 55.5485 414.5L165.048 416C164.548 414.5 163.648 407.8 164.048 393C164.548 374.5 166.048 369 168.548 353C171.048 337 177.548 328.5 182.048 319C186.548 309.5 191.548 304 198.548 298C205.548 292 227.548 265 233.048 254C238.548 243 262.048 198.5 264.048 193.5C266.048 188.5 267.048 189 270.548 186C274.048 183 286.548 167.5 284.548 162.5C282.548 157.5 277.548 158 260.548 161.5C243.548 165 233.548 189 230.548 193.5C227.548 198 220.548 202.5 217.548 205.5C214.548 208.5 209.048 219 204.048 222C199.048 225 196.048 221 191.548 209.5C187.048 198 182.548 175 182.548 166V120.5C182.548 109.5 182.048 70 179.048 44C176.048 18 169.548 16 159.048 15.5C148.548 15 148.548 27 148.548 36.5C148.548 46 147.048 82 146.048 88C145.048 94 144.048 110.5 144.548 127C145.048 143.5 145.048 149.5 140.548 150C136.048 150.5 135.048 140.5 135.548 133.5C136.048 126.5 132.548 105 132.548 101.5C132.548 98 132.548 91.5 131.048 86C129.548 80.5 128.048 61.5 127.048 46.5C126.048 31.5 122.048 23.5 121.548 14.5C121.048 5.5 118.048 0 109.048 0C100.048 0 97.0484 11.5 96.5484 16C96.0484 20.5 98.0484 35 98.5484 44C99.0484 53 99.5484 80 100.548 89C101.548 98 102.548 108.5 103.048 120.5C103.548 132.5 101.048 153 98.0484 153C95.0484 153 90.5484 137.5 90.0484 130C89.5484 122.5 88.0484 106.5 87.0484 99.5C86.0484 92.5 82.5484 80 83.0484 74.5C83.5484 69 82.5484 54.5 80.5484 44C78.5484 33.5 76.5484 19 64.5484 21C52.5484 23 51.5484 30.5 52.0484 46.5C52.5484 62.5 55.0484 83.5 55.5484 101.5C56.0484 119.5 60.5484 135.5 61.5484 143.5C62.5484 151.5 65.0565 168.444 60.0484 169C55.5484 169.5 46.0484 152.5 43.5484 148C41.0484 143.5 31.0484 124.5 29.0484 113.5C27.0484 102.5 22.0484 92.5 20.5484 89C19.0484 85.5 18.5484 79.5 10.5485 80C2.54846 80.5 0.548454 81.5 0.0484537 89C-0.451546 96.5 3.04845 111.5 4.54845 115C6.04845 118.5 9.54845 130 10.5485 134.5C11.5485 139 12.0485 148.5 19.0485 160C26.0485 171.5 31.0485 201.5 33.5485 211.5C36.0485 221.5 39.5485 246 43.5485 267C47.5485 288 58.0485 308.5 61.5485 317C65.0485 325.5 63.0485 333 63.0485 338.5C63.0485 344 63.0485 366 60.0485 380Z" fill="#FFEDEB"/>
            <path d="M57.5484 171C55.9484 167.8 56.2151 167.667 56.0484 166.5C56.5484 167.5 60.5484 171.5 62.5484 166.5C62.8111 165.843 62.5484 169.5 61.5484 172.5C60.5484 175.5 59.5484 175 57.5484 171Z" fill="#FFE3DD"/>
            <path d="M95.5484 155C94.7484 152.6 94.7151 150 94.5484 148C95.5484 150 98.0484 158 100.548 148C100.67 147.515 101.048 153 99.5484 158C98.0484 163 96.5484 158 95.5484 155Z" fill="#FFE3DD"/>
            <path d="M138.548 155C137.991 153.607 136.048 148.5 137.048 147.5C137.048 147.5 141.048 153 143.548 147.5C145.777 142.598 143.048 153 141.548 157.5C140.697 160.054 139.548 157.5 138.548 155Z" fill="#FFE3DD"/>
            <path d="M53.0484 207.5C49.4484 209.9 43.2151 208.5 40.5484 207.5C43.0484 209 49.1484 211.5 53.5484 209.5C57.9484 207.5 58.3818 202.333 58.0484 200C57.8818 201.5 56.6484 205.1 53.0484 207.5Z" fill="#FFE3DD"/>
            <path d="M84.0484 193C80.0484 193.8 75.0484 190.667 73.0484 189C74.5484 191.333 78.8484 195.8 84.0484 195C89.2484 194.2 92.2151 190 93.0484 188C91.7151 189.333 88.0484 192.2 84.0484 193Z" fill="#FFE3DD"/>
            <path d="M110.023 175.451C108.972 174.584 108.126 173.711 107.548 173C108.162 173.695 109.01 174.555 110.023 175.451C112.913 177.834 117.355 180.173 122.048 179C128.448 177.4 132.382 174.667 133.548 173.5C132.048 175.833 127.648 180.6 122.048 181C117.822 181.302 113.141 178.206 110.023 175.451Z" fill="#FFE3DD"/>
            <path d="M162.048 183C157.648 184.2 151.215 179.833 148.548 177.5C149.882 180.167 154.248 185.4 161.048 185C167.848 184.6 172.215 179.833 173.548 177.5C171.548 178.833 166.448 181.8 162.048 183Z" fill="#FFE3DD"/>
            <path d="M196.048 220C196.13 220.123 196.218 220.258 196.311 220.404C197.182 221.612 199.19 223.357 202.048 223C205.246 222.6 208.881 217 211.048 214.5C209.048 218.5 206.148 227.8 204.548 231C202.548 235 202.048 238 201.048 232C200.298 227.495 197.726 222.637 196.311 220.404C196.207 220.26 196.119 220.124 196.048 220Z" fill="#FFE3DD"/>
            <path d="M29.0484 151.5C27.0484 152.3 26.2151 153.5 26.0484 154C26.8818 153.833 29.0484 153.1 31.0484 151.5C33.5484 149.5 31.5484 150.5 29.0484 151.5Z" fill="#FFE3DD"/>
            <path d="M30.0484 155.5C28.0484 157.1 27.8818 157.833 28.0484 158C28.5484 157.667 29.7484 156.8 30.5484 156C31.3484 155.2 33.5484 154.333 34.5484 154C33.8818 153.833 32.0484 153.9 30.0484 155.5Z" fill="#FFE3DD"/>
            <path d="M33.5484 157L30.5484 159C31.0484 159.167 32.3484 159.3 33.5484 158.5C34.7484 157.7 35.7151 156.167 36.0484 155.5C35.7151 155.667 34.7484 156.2 33.5484 157Z" fill="#FFE3DD"/>
            <path d="M34.5484 160.5C33.7484 161.3 32.2151 161.833 31.5484 162C31.3818 162.5 31.2484 163.5 32.0484 163.5C33.0484 163.5 34.0484 163.5 36.5484 161.5C38.5484 159.9 37.3818 159.167 36.5484 159C36.2151 159.167 35.3484 159.7 34.5484 160.5Z" fill="#FFE3DD"/>
            <path d="M19.5484 121.5C18.7484 121.9 17.2151 122.333 16.5484 122.5L17.5484 123.5C18.0484 123.333 19.3484 122.8 20.5484 122C21.7484 121.2 22.3818 120.333 22.5484 120L19.5484 121.5Z" fill="#FFE3DD"/>
            <path d="M20.0484 119.5L17.0484 121C17.3818 121.167 18.4484 121.2 20.0484 120C21.6484 118.8 22.3818 117.833 22.5484 117.5C22.3818 117.833 21.6484 118.7 20.0484 119.5Z" fill="#FFE3DD"/>
            <path d="M16.5484 119.5C15.3484 120.3 15.0484 120.833 15.0484 121C15.5484 120.833 16.6484 120.4 17.0484 120C17.4484 119.6 19.5484 118.5 20.5484 118C19.7151 118.167 17.7484 118.7 16.5484 119.5Z" fill="#FFE3DD"/>
            <path d="M16.5484 116.5C14.5484 117.3 13.7151 118.167 13.5484 118.5C14.2151 118.167 16.0484 117.3 18.0484 116.5C20.5484 115.5 19.0484 115.5 16.5484 116.5Z" fill="#FFE3DD"/>
            <path d="M73.0485 123C71.0485 123.8 69.5485 123.667 69.0485 123.5C69.2151 124 70.6485 124.9 75.0485 124.5C79.4485 124.1 78.2151 122.333 77.0485 121.5C76.5485 121.667 75.0485 122.2 73.0485 123Z" fill="#FFE3DD"/>
            <path d="M74.5485 119.5C72.5485 120.3 70.3818 120.167 69.5485 120C69.2151 120.167 68.7485 120.5 69.5485 120.5C70.5485 120.5 72.5485 121 76.0485 119.5C79.5485 118 77.0485 118.5 74.5485 119.5Z" fill="#FFE3DD"/>
            <path d="M74.5485 117C76.5485 116.5 74.0485 116.5 71.0485 117C68.6485 117.4 68.3818 117.833 68.5485 118C69.8818 117.833 72.9484 117.4 74.5485 117Z" fill="#FFE3DD"/>
            <path d="M71.0484 113C69.0484 113.4 68.5484 114.167 68.5484 114.5C69.0484 114.5 70.5484 114.4 72.5484 114C74.5484 113.6 75.3818 112.833 75.5484 112.5L71.0484 113Z" fill="#FFE3DD"/>
            <path d="M73.5484 71H66.0484L65.5484 72C66.5484 72.1667 69.5484 72.4 73.5484 72C78.5484 71.5 77.0484 71 73.5484 71Z" fill="#FFE3DD"/>
            <path d="M68.0484 68.5C65.6484 68.5 64.7151 69.1667 64.5484 69.5H69.0484C71.8484 69.5 73.2151 68.8333 73.5484 68.5H68.0484Z" fill="#FFE3DD"/>
            <path d="M67.5484 66C64.7484 66 63.0484 67 62.5484 67.5C63.2151 67.3333 65.1484 66.9 67.5484 66.5C69.9484 66.1 72.5484 66.3333 73.5484 66.5C72.7151 66.3333 70.3484 66 67.5484 66Z" fill="#FFE3DD"/>
            <path d="M111.548 43C109.548 43.8 107.382 44.3333 106.548 44.5C107.548 44.3333 110.048 43.9 112.048 43.5C114.048 43.1 116.215 42.3333 117.048 42C116.048 42 113.548 42.2 111.548 43Z" fill="#FFE3DD"/>
            <path d="M112.048 45L109.048 46.5C109.882 46.1667 111.848 45.4 113.048 45C114.248 44.6 116.215 44.1667 117.048 44C116.048 44 113.648 44.2 112.048 45Z" fill="#FFE3DD"/>
            <path d="M116.548 46.5C114.548 47.3 112.382 47.8333 111.548 48C111.548 48.1667 111.648 48.5 112.048 48.5C112.548 48.5 116.548 47.5 119.048 46.5C121.048 45.7 121.215 44.8333 121.048 44.5C120.382 44.8333 118.548 45.7 116.548 46.5Z" fill="#FFE3DD"/>
            <path d="M114.548 94C111.348 94.4 109.882 96.1667 109.548 97C109.882 97 110.948 96.8 112.548 96C114.548 95 119.548 95 122.548 95C124.948 95 124.882 94.3333 124.548 94C122.548 93.8333 117.748 93.6 114.548 94Z" fill="#FFE3DD"/>
            <path d="M116.548 98.5C113.348 98.5 111.548 99.5 111.048 100C111.882 99.8333 114.448 99.5 118.048 99.5C121.648 99.5 123.215 98.8333 123.548 98.5H116.548Z" fill="#FFE3DD"/>
            <path d="M122.548 102.5C120.948 102.9 116.882 103 115.048 103C115.882 103.167 118.448 103.5 122.048 103.5C125.648 103.5 126.548 102.5 126.548 102C125.882 102 124.148 102.1 122.548 102.5Z" fill="#FFE3DD"/>
            <path d="M120.048 106C117.248 106.4 112.548 106.167 110.548 106L112.048 107C113.048 107.333 116.048 108 120.048 108C124.048 108 126.382 106.667 127.048 106C125.882 105.833 122.848 105.6 120.048 106Z" fill="#FFE3DD"/>
            <path d="M158.548 56.5C156.548 56.5 155.048 57.1667 154.548 57.5H159.548C161.948 57.5 164.882 57.1667 166.048 57C164.382 56.8333 160.548 56.5 158.548 56.5Z" fill="#FFE3DD"/>
            <path d="M156.548 59L157.048 59.5H161.548C163.548 59.5 164.715 59.1667 165.048 59H156.548Z" fill="#FFE3DD"/>
            <path d="M166.048 61C163.648 61.4 160.048 61.1667 158.548 61H158.048C158.048 61.3333 158.448 62.1 160.048 62.5C162.048 63 165.048 62 168.548 61.5C172.048 61 169.048 60.5 166.048 61Z" fill="#FFE3DD"/>
            <path d="M160.048 102.5C155.248 103.3 153.715 105.833 153.548 107C154.882 106.333 158.048 104.9 160.048 104.5C162.548 104 162.548 103.5 167.548 104C171.548 104.4 172.215 103.5 172.048 103C170.048 102.5 164.848 101.7 160.048 102.5Z" fill="#FFE3DD"/>
            <path d="M167.548 107.5C164.748 107.9 159.715 108 157.548 108C158.382 108.167 160.148 108.5 160.548 108.5H167.048C168.648 108.5 171.048 107.833 172.048 107.5C171.715 107.333 170.348 107.1 167.548 107.5Z" fill="#FFE3DD"/>
            <path d="M166.048 112C162.048 112.8 157.048 112.333 155.048 112C155.882 112.5 158.348 113.8 161.548 115C165.548 116.5 165.548 114.5 168.548 113.5C170.948 112.7 173.215 111.5 174.048 111C173.048 111 170.048 111.2 166.048 112Z" fill="#FFE3DD"/>
            <path d="M250.048 199C248.448 198.2 247.048 198.667 246.548 199L248.548 200.5C250.215 201.5 254.048 203.9 256.048 205.5C258.048 207.1 256.882 204.833 256.048 203.5C254.715 202.333 251.648 199.8 250.048 199Z" fill="#FFE3DD"/>
            <path d="M250.548 205.5C249.748 203.9 247.215 202.167 246.048 201.5C246.215 202 246.648 203.1 247.048 203.5C247.548 204 248.548 205 250.048 207C251.248 208.6 253.215 210.333 254.048 211C253.215 209.833 251.348 207.1 250.548 205.5Z" fill="#FFE3DD"/>
            <path d="M245.048 206.5C243.048 204.1 242.215 202.167 242.048 201.5C241.248 199.756 241.382 201.773 241.548 203C241.882 204.333 243.048 207.7 245.048 210.5C247.548 214 249.548 214 251.548 214.5C253.548 215 251.048 213.5 249.548 212C248.048 210.5 247.548 209.5 245.048 206.5Z" fill="#FFE3DD"/>
            <path d="M216.048 263C213.648 259.4 212.382 256.167 212.048 255C212.715 260 215.348 269.8 220.548 269C227.048 268 232.548 248.5 227.548 258.5C222.548 268.5 219.048 267.5 216.048 263Z" fill="#FFE3DD"/>
          </g>
          </g>
        </svg>
        <AnimatePresence>
              {
                (showLabel && dipActive) && (
                  <motion.div
                    key={"dip"}
                    initial={{ opacity: 0 }}
                    animate={{ opacity: 1}}
                    exit={{ opacity: 0 }}
                  >
                    <LabelComponent
                      classes='top-[82px] right-[8px] mbsm:top-[76px] mbsm:right-[5px] mblg:top-[60px] mblg:right-[12px]'
                      message='ข้อนิ้วส่วนปลาย' 
                    />
                  </motion.div>
                )
              }
              {
                (showLabel && pipActive) && (
                  <motion.div
                    key={"pip"}
                    initial={{ opacity: 0 }}
                    animate={{ opacity: 1}}
                    exit={{ opacity: 0 }}
                  >
                    <StraightRightLabelComponent
                      classes='top-[145px] right-[18px] mbsm:top-[145px] mbsm:right-[15px] mblg:top-[135px]'
                      message='ข้อนิ้วมือส่วนต้น' 
                    />
                    {/* <LabelComponent
                      classes='top-[145px] right-[12px] mbsm:top-[145px] mbsm:right-[12px] mblg:top-[135px]'
                      message='ข้อนิ้วมือส่วนต้น' 
                    /> */}
                </motion.div>
                )
              }
              {
                (showLabel && mcpActive) && (
                  <motion.div
                    key={"mcp"}
                    initial={{ opacity: 0 }}
                    animate={{ opacity: 1}}
                    exit={{ opacity: 0 }}
                  >
                    <BottmRightLabelComponent
                      classes='top-[212px] right-[12px] mbsm:right-[20px] mblg:top-[210px] mblg:right-[30px]'
                      message='ข้อโคนนิ้วมือ' 
                    />
                  </motion.div>
                )
              }
            </AnimatePresence>
    </div>
  )
}

export default FingerComponent